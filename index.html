<!doctype html>
<html lang="el">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>Streams — index</title>
<style>
  body{font-family:system-ui,-apple-system,Segoe UI,Roboto,Arial;margin:0;background:#071129;color:#fff}
  .wrap{max-width:960px;margin:32px auto;padding:20px}
  h1{margin:0 0 18px;font-size:1.4rem}
  .list{display:grid;gap:12px}
  .item{background:rgba(255,255,255,0.03);padding:12px;border-radius:8px;display:flex;align-items:center;justify-content:space-between;gap:12px}
  .left{min-width:0}
  .mount{font-weight:700}
  .meta{color:#cbd5e1;font-size:.92rem;margin-top:6px}
  .btn{background:transparent;border:1px solid rgba(255,255,255,0.08);padding:8px 12px;color:#fff;border-radius:8px;text-decoration:none}
  .small{font-size:.88rem;color:#dbeafe}
  @media (max-width:600px){ .item{flex-direction:column;align-items:flex-start} .right{width:100%} }
</style>
</head>
<body>
  <div class="wrap">
    <h1>Icecast streams — index</h1>
    <div class="small">Click a stream to open its player page.</div>

    <div class="list" id="streamsList"></div>
  </div>

  <script>
  const streams = [
      {
        id: "stream_007",
        displayName: "stream_007",
        description: "stream from rpi007",
        listeners: 6,
        bitrate: 192,
        url: "http://in.icss.com.gr:8000/stream_007"
      },
      {
        id: "stream_009",
        displayName: "stream_009",
        description: "stream from rpi009",
        listeners: 0,
        bitrate: 192,
        url: "http://in.icss.com.gr:8000/stream_009"
      },
      {
        id: "stream_010",
        displayName: "stream_010",
        description: "stream from rpi010",
        listeners: 2,
        bitrate: 192,
        url: "http://in.icss.com.gr:8000/stream_010"
      },
      {
        id: "stream_014",
        displayName: "stream_014",
        description: "stream from rpi014",
        listeners: 7,
        bitrate: 192,
        url: "http://in.icss.com.gr:8000/stream_014"
      },
      {
        id: "stream_018",
        displayName: "stream_018",
        description: "stream from rpi018",
        listeners: 0,
        bitrate: 192,
        url: "http://in.icss.com.gr:8000/stream_018"
      },
      {
        id: "stream_034",
        displayName: "stream_034",
        description: "stream from rpi034",
        listeners: 1,
        bitrate: 192,
        url: "http://in.icss.com.gr:8000/stream_034"
      },
      {
        id: "stream_036",
        displayName: "stream_036",
        description: "stream from rpi036",
        listeners: 0,
        bitrate: 192,
        url: "http://in.icss.com.gr:8000/stream_036"
      },
      {
        id: "stream_038",
        displayName: "stream_038",
        description: "stream from rpi038",
        listeners: 0,
        bitrate: 192,
        url: "http://in.icss.com.gr:8000/stream_038"
      }
    ];
    const container = document.getElementById('streamsList');

    streams.forEach(s => {
      const item = document.createElement('div');
      item.className = 'item';

      const left = document.createElement('div'); left.className='left';
      const mount = document.createElement('div'); mount.className='mount'; mount.textContent = `Mount Point /${s.id}`;
      const desc = document.createElement('div'); desc.className='meta'; desc.innerHTML = `${s.description ? s.description + ' · ' : ''}Bitrate: ${s.bitrate} kbps · Listeners: ${s.listeners}`;

      left.appendChild(mount);
      left.appendChild(desc);

      const right = document.createElement('div'); right.className='right';
      // link to folder stream_007/ (relative)
      const a = document.createElement('a');
      a.className = 'btn';
      a.href = `${s.id}/`; // points to /streams/stream_007/
      a.textContent = 'Open player';
      right.appendChild(a);

      item.appendChild(left);
      item.appendChild(right);
      container.appendChild(item);
    });
  </script>
</body>
</html>
